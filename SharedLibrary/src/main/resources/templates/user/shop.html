<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
   <link rel="stylesheet" th:href = "@{/css/sliderstyle.css}">
	
</head>
<body >
   	<div th:include="user/fragments/topfragment"></div>


    <!-- Breadcrumb Start -->
    <div class="container-fluid">
        <div class="row px-xl-5">
            <div class="col-12">
                <nav class="breadcrumb bg-light mb-30">
                    <a class="breadcrumb-item text-dark" th:href="@{/index}">Home</a>
                    <a class="breadcrumb-item text-dark" th:href="@{/shop}">Shop</a>
                    <span class="breadcrumb-item active">Shop List</span>
                </nav>
            </div>
        </div>
    </div>
    <!-- Breadcrumb End -->


    <!-- Shop Start -->
    <div class="container-fluid">
        <div class="row px-xl-5">
            <!-- Shop Sidebar Start -->
            <div class="col-lg-3 col-md-4">
            	<form th:action="@{/shop}" method ="get">
                <!-- Category Start -->
					<h5 class="section-title position-relative text-uppercase mb-3"><span class="bg-secondary pr-3">Filter by Category</span></h5>
					<div class="bg-light p-4 mb-30" style="overflow-y:auto; height:300px">
							<div class="radio-button-wrapper-category mb-3">
								<div class="search-bar mb-3">
								  <input type="text" placeholder="Enter Category" class="search-input-category">
								</div>
								<div class="radio-button" th:each="category : ${allcategories}">
							    	<input type="radio" name="category" th:id="${category.id}" th:value="${category.id}" class="hidden-radio">
							    	<label th:for="${category.id}" th:text="${category.name}" th:attr="data-catname=${category.name}" ></label>
							    	<div class="square" th:text="${category.numberOfBooks}?:0"></div>
							  	</div>
							</div>
					</div>
					<!-- Category End -->
					
					<!-- Author End -->
					<h5 class="section-title position-relative text-uppercase mb-3"><span class="bg-secondary pr-3">Filter by Author</span></h5>
					<div class="bg-light p-4 mb-30" style="overflow-y:auto; height:300px">
							<div class="radio-button-wrapper-author mb-3">
								<div class="search-bar mb-3">
								  <input type="text" placeholder="Enter Author Name" class="search-input-author">
								</div>
								<div class="radio-button" th:each="author : ${authors}">
							    	<input type="radio" name="author" th:id="${#ids.seq('option')}" th:value="${author[0]}" class="hidden-radio">
							    	<label th:for="${#ids.prev('option')}" th:text="${author[0]}" th:attr="data-author=${author[0]}"></label>
							    	<div class="square" th:text = "${author[1]}"></div>
							  	</div>
							</div>
					</div>
	
	                <!-- Author End -->
	                
	                <!-- Price Start -->
	                 <h5 class="section-title position-relative text-uppercase mb-3"><span class="bg-secondary pr-3">Filter by price</span></h5>
	                	<div class="bg-light p-4 mb-30">
	                	
						    <div class="container-slider range-slider">
						        <span class="output outputOne"></span>
						        <span class="output outputTwo"></span>
						        <span class="full-range"></span>
						        <span class="incl-range"></span>
						        <input name="minPrice" value="0" min="0" max="200" step="1" type="range">
						        <input name="maxPrice" value="200" min="0" max="200" step="1" type="range">
						    </div>
						
						  
	
					</div>
				    <div class="text-center">
				        <button type="submit" class="btn btn-primary mt-1">Filter</button>
				    </div>
			    </form>
				<!-- Price End -->
            </div>
            <!-- Shop Sidebar End -->


            <!-- Shop Product Start -->
            <div class="col-lg-9 col-md-8">
			  <div class="row pb-3">
			    <div class="col-12 pb-1">
			   
			      <div class="d-flex align-items-center justify-content-between mb-4">
			        <div class="ml-2">
			          <div class="btn-group ml-1">
			            <button type="button" class="btn btn-sm btn-light dropdown-toggle ml-2" data-toggle="dropdown">Showing</button>
			            <div class="dropdown-menu dropdown-menu-right">
			              <a class="dropdown-item show-page" href="#" data-page="9">9</a>
			              <a class="dropdown-item show-page" href="#" data-page="27">27</a>
			              <a class="dropdown-item show-page" href="#" data-page="54">54</a>
			            </div>
			          </div>
			          <!-- <div class="btn-group ml-1">
			          	<button type="button" class="btn btn-sm btn-light dropdown-toggle ml-2" data-toggle="dropdown">Filter By</button>
			          	<div class="dropdown-menu dropdown-menu-right">
			              <a class="dropdown-item sort-button" href="#" data-ord="asc">Price - Highest To Lowest</a>
			              <a class="dropdown-item sort-button" href="#" data-ord="desc">Price - Lowest To Highest</a>
			              <a class="dropdown-item sort-button" href="#" data-ord="alph">Alphabetical</a>
			            </div>
			          </div> -->
			        </div>
			        <div class="d-flex align-items-center justify-content-between mb-1">
			        	<div class="ml-2">
			        		<div class="btn-group ml-2">
			        			<button type="button" class="btn disabled btn-lg btn-light" th:text="${currCategory != null ? currCategory.name : 'All Categories'}"></button>
			        		</div>
			        	</div>
			        	<div class="ml-2">
			        		<div class="btn-group ml-2">
			        			<button type="button" class="btn disabled btn-lg btn-light" th:text="${currAuthor != null ? currAuthor : 'All Authors'}"></button>
			        		</div>
			        	</div>
			        </div>
			      </div>
			       
			    </div>
			    
			    
			    <div class="col-lg-4 col-md-6 col-sm-6 pb-1 book-item" th:each="book: ${allbooks}" th:attr="data-price=${book.price}, data-title=${book.title}">
			      <div class="product-item bg-light mb-4">
			        <div class="product-img position-relative overflow-hidden">
			          <img class="img-fluid w-100" th:src="${book.imageUrl}" alt="">
			          <div class="product-action">
			            <a class="btn btn-outline-dark btn-square btn-add-to-cart" th:href="@{/shop/{id}(id=${book.id})}" th:attr="data-authenticated=${authenticated}" href=""><i class="fa fa-shopping-cart"></i></a>
			            <a class="btn btn-outline-dark btn-square" th:href="@{/shop/{id}(id=${book.id})}"><i class="fa fa-search"></i></a>
			          </div>
			        </div>
			        <div class="text-center py-4">
			          <a class="h6 text-decoration-none text-truncate" href=""><span th:text="${book.title}"></span></a>
			          <div class="d-flex align-items-center justify-content-center mt-2">
			            <h5 th:text="${book.price}"></h5><h6 class="text-muted ml-2"></h6>
			          </div>
			        </div>
			      </div>
			    </div>
			
			    <div class="col-12">
			      <div class="col-12">
			          <ul class="pagination justify-content-center">
			          </ul>
			      </div>
			    </div>
			  </div>
			</div>

            <!-- Shop Product End -->
        </div>
    </div>
   
   <div th:include="user/fragments/bottomfragment"></div>

    <!-- Back to Top -->
    <a href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>
	<script th:src = "@{/js/priceslider.js}"></script>
	<script th:src = "@{/js/pagination.js}"></script>
	<script th:src = "@{/js/searchbar.js}"></script>


	
</body>

</html>